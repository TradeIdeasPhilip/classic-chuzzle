(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function e(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(s){if(s.ep)return;s.ep=!0;const r=e(s);fetch(s.href,r)}})();var m={},l={};Object.defineProperty(l,"__esModule",{value:!0});l.permutations=V=l.polarToRectangular=l.makeBoundedLinear=M=l.makeLinear=l.sum=l.countMap=p=l.initializedArray=l.count=l.zip=l.FIGURE_SPACE=l.NON_BREAKING_SPACE=l.dateIsValid=l.MIN_DATE=l.MAX_DATE=l.makePromise=l.filterMap=y=l.pick=l.pickAny=l.csvStringToArray=l.parseTimeT=l.parseIntX=l.parseFloatX=l.getAttribute=l.followPath=l.parseXml=l.testXml=O=l.sleep=l.assertClass=void 0;function q(o,t,e="Assertion Failed."){const n=s=>{throw new Error(`${e}  Expected type:  ${t.name}.  Found type:  ${s}.`)};if(o===null)n("null");else if(typeof o!="object")n(typeof o);else if(!(o instanceof t))n(o.constructor.name);else return o;throw new Error("wtf")}l.assertClass=q;function U(o){return new Promise(t=>setTimeout(t,o))}var O=l.sleep=U;function Z(o){const e=new DOMParser().parseFromString(o,"application/xml");for(const n of Array.from(e.querySelectorAll("parsererror")))if(n instanceof HTMLElement)return{error:n};return{parsed:e}}l.testXml=Z;function K(o){if(o!==void 0)return Z(o)?.parsed?.documentElement}l.parseXml=K;function B(o,...t){for(const e of t){if(o===void 0)return;if(typeof e=="number")o=o.children[e];else{const n=o.getElementsByTagName(e);if(n.length!=1)return;o=n[0]}}return o}l.followPath=B;function Y(o,t,...e){if(t=B(t,...e),t!==void 0&&t.hasAttribute(o))return t.getAttribute(o)??void 0}l.getAttribute=Y;function L(o){if(o==null)return;const t=parseFloat(o);if(isFinite(t))return t}l.parseFloatX=L;function N(o){const t=L(o);if(t!==void 0)return t>Number.MAX_SAFE_INTEGER||t<Number.MIN_SAFE_INTEGER||t!=Math.floor(t)?void 0:t}l.parseIntX=N;function J(o){if(typeof o=="string"&&(o=N(o)),o!=null&&!(o<=0))return new Date(o*1e3)}l.parseTimeT=J;const Q=o=>{const t=/(,|\r?\n|\r|^)(?:"([^"]*(?:""[^"]*)*)"|([^,\r\n]*))/gi,e=[[]];let n;for(;n=t.exec(o);)n[1].length&&n[1]!==","&&e.push([]),e[e.length-1].push(n[2]!==void 0?n[2].replace(/""/g,'"'):n[3]);return e};l.csvStringToArray=Q;function W(o){const t=o.values().next();if(!t.done)return t.value}l.pickAny=W;function tt(o){return o[Math.random()*o.length|0]}var y=l.pick=tt;function et(o,t){const e=[];return o.forEach((n,s)=>{const r=t(n,s);r!==void 0&&e.push(r)}),e}l.filterMap=et;function nt(){let o,t;return{promise:new Promise((n,s)=>{o=n,t=s}),resolve:o,reject:t}}l.makePromise=nt;l.MAX_DATE=new Date(864e13);l.MIN_DATE=new Date(-864e13);function ot(o){return isFinite(o.getTime())}l.dateIsValid=ot;l.NON_BREAKING_SPACE=" ";l.FIGURE_SPACE=" ";function*rt(...o){const t=o.map(e=>e[Symbol.iterator]());for(;;){const e=t.map(n=>n.next());if(e.some(({done:n})=>n))break;yield e.map(({value:n})=>n)}}l.zip=rt;function*st(o=0,t=1/0,e=1){for(let n=o;n<t;n+=e)yield n}l.count=st;function $(o,t){const e=[];for(let n=0;n<o;n++)e.push(t(n));return e}var p=l.initializedArray=$;l.countMap=$;function at(o){return o.reduce((t,e)=>t+e,0)}l.sum=at;function it(o,t,e,n){const s=(n-t)/(e-o);return function(r){return(r-o)*s+t}}var M=l.makeLinear=it;function lt(o,t,e,n){e<o&&([o,t,e,n]=[e,n,o,t]);const s=(n-t)/(e-o);return function(r){return r<=o?t:r>=e?n:(r-o)*s+t}}l.makeBoundedLinear=lt;function ct(o,t){return{x:Math.sin(t)*o,y:Math.cos(t)*o}}var V=l.polarToRectangular=ct;function*H(o,t=[]){if(o.length==0)yield t;else for(let e=0;e<o.length;e++){const n=o[e],s=[...t,n],r=[...o.slice(0,e),...o.slice(e+1)];yield*H(r,s)}}l.permutations=H;Object.defineProperty(m,"__esModule",{value:!0});m.download=m.createElementFromHTML=m.getHashInfo=m.getAudioBalanceControl=m.getBlobFromCanvas=m.loadDateTimeLocal=g=m.getById=void 0;const X=l;function ut(o,t){const e=document.getElementById(o);if(!e)throw new Error("Could not find element with id "+o+".  Expected type:  "+t.name);if(e instanceof t)return e;throw new Error("Element with id "+o+" has type "+e.constructor.name+".  Expected type:  "+t.name)}var g=m.getById=ut;function dt(o,t,e="milliseconds"){let n;switch(e){case"minutes":{n=t.getSeconds()*1e3+t.getMilliseconds();break}case"seconds":{n=t.getMilliseconds();break}case"milliseconds":{n=0;break}default:throw new Error("wtf")}o.valueAsNumber=+t-t.getTimezoneOffset()*6e4-n}m.loadDateTimeLocal=dt;function ht(o){const{reject:t,resolve:e,promise:n}=(0,X.makePromise)();return o.toBlob(s=>{s?e(s):t(new Error("blob is null!"))}),n}m.getBlobFromCanvas=ht;function ft(o){const t=new AudioContext,e=t.createMediaElementSource(o),n=new StereoPannerNode(t,{pan:0});return e.connect(n).connect(t.destination),s=>{n.pan.value=s}}m.getAudioBalanceControl=ft;function mt(){const o=new Map;return/^#?(.*)$/.exec(location.hash.replace("+","%20"))[1].split("&").forEach(n=>{const s=n.split("=",2);if(s.length==2){const r=decodeURIComponent(s[0]),a=decodeURIComponent(s[1]);o.set(r,a)}}),o}m.getHashInfo=mt;function pt(o,t){var e=document.createElement("div");return e.innerHTML=o.trim(),(0,X.assertClass)(e.firstChild,t,"createElementFromHTML:")}m.createElementFromHTML=pt;function gt(o,t){var e=document.createElement("a");if(e.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),e.setAttribute("download",o),document.createEvent){var n=document.createEvent("MouseEvents");n.initEvent("click",!0,!0),e.dispatchEvent(n)}else e.click()}m.download=gt;class wt{#t=new Set;get contents(){return[...this.#t].map(t=>t.piece)}get size(){return this.#t.size}debugInitialCell;color;constructor(t){this.color=t.color,this.debugInitialCell=t,this.#t.add(t)}consume(t){const e=this.#t,n=t.#t;return n.forEach(s=>e.add(s)),t.#t=void 0,n}get valid(){return!!this.#t?.has(this.debugInitialCell)}}class P{constructor(t){this.piece=t,this.#t=new wt(this)}#t;get color(){return this.piece.color}static createAll(t){return t.map(e=>e.map(n=>new P(n)))}tryCombine(t){if(this.#t!=t.#t&&this.color==t.color&&(this.#t.consume(t.#t).forEach(n=>n.#t=this.#t),!this.#t.valid))throw new Error("wtf")}static combineAll(t){t.forEach((e,n)=>{e.forEach((s,r)=>{if(n){const a=n-1,i=t[a][r];s.tryCombine(i)}if(r){const a=r-1,i=e[a];s.tryCombine(i)}})})}static findBigGroups(t){const e=new Map;t.forEach(s=>s.forEach(r=>{const a=r.#t,i=e.get(a)??0;e.set(a,i+1)}));const n=[];for(const[s,r]of e)r>=3&&n.push(s);return n}static findActionable(t){const e=this.createAll(t);return this.combineAll(e),this.findBigGroups(e)}}function k(o){return P.findActionable(o).map(t=>t.contents)}function C(o,t){const e=o%t;return e<0?e+Math.abs(t):e}function Et(o,t){if((t|0)!=t)throw new Error(`invalid input: ${t}`);return t=C(t,o.length),t==0?o:[...o.slice(t),...o.slice(0,t)]}function yt(o,t,e="Assertion Failed."){const n=s=>{throw new Error(`${e}  Expected type:  ${t.name}.  Found type:  ${s}.`)};if(o===null)n("null");else if(typeof o!="object")n(typeof o);else if(!(o instanceof t))n(o.constructor.name);else return o;throw new Error("wtf")}const T=o=>C(Math.round(o),d.SIZE);function vt(o,t,e){const n=o[t],s=Et(n,e);return n==s?o:o.map(r=>r==n?s:r)}function bt(o,t,e){const n=o.length;return e=C(e,n),e==0?o:o.map((s,r)=>{const a=[...s];return a[t]=o[(r+e)%n][t],a})}const E=["red","green","blue","yellow","orange","violet"];class S{constructor(t,e,n=S.randomColor()){this.rowIndex=t,this.columnIndex=e,this.color=n}weight=1;bomb=!1;static randomColor(){return y(E)}}class d{constructor(t){this.animator=t,this.#t=this.createRandom(),this.#t.forEach(e=>e.forEach(n=>this.animator.initializePiece(n)))}static SIZE=6;#t;getColumn(t){return this.#t.map(e=>e[t])}createRandom(){const t=p(d.SIZE,n=>p(d.SIZE,s=>new S(n,s)));return k(t).forEach(n=>{n.forEach(({rowIndex:s,columnIndex:r})=>{const a=new Set;[[0,1],[0,-1],[1,0],[-1,0]].forEach(([i,c])=>{const u=t[s+i];if(u){const h=u[r+c];h&&a.add(h.color)}}),t[s][r]=new S(s,r,y(E.filter(i=>!a.has(i))))})}),t}async updateLoop(t,e){for(let n=1;t.length>0;n++){const s=new Set,r=[];t.forEach(a=>{if(a.length==5){const i=y(a);i.bomb=!0,s.add(i),this.animator.updateBomb(i),r.push(i)}}),await e.addToScore(n),r.forEach(a=>this.animator.cancelGroup(a)),await this.removePieces(t.flatMap(a=>a.filter(i=>!s.has(i)))),t=k(this.#t),e=this.animator.assignGroupDecorations(t),e.highlightGroups()}}setAllPieces(t){this.#t=t,t.forEach((e,n)=>{e.forEach((s,r)=>{s.columnIndex=r,s.rowIndex=n})})}startHorizontalMove(t){const e=p(d.SIZE,r=>{const a=vt(this.#t,t,-r),i=k(a);return{actions:this.animator.assignGroupDecorations(i),groups:i,pieces:a}}),n=r=>{const a=this.#t[t];this.animator.drawPreview("horizontal",a,r),e[T(r)].actions.highlightGroups()};return{preview:n,release:async r=>{n(r);const a=T(r),c=e[a].groups.length==0?0:a,u=e[c];this.setAllPieces(u.pieces);const h=this.#t[t];await this.animator.rotateTo("horizontal",h),await this.updateLoop(u.groups,u.actions)}}}startVerticalMove(t){const e=p(d.SIZE,r=>{const a=bt(this.#t,t,-r),i=k(a);return{actions:this.animator.assignGroupDecorations(i),groups:i,pieces:a}}),n=r=>{const a=this.getColumn(t);this.animator.drawPreview("vertical",a,r),e[T(r)].actions.highlightGroups()};return{preview:n,release:async r=>{n(r);const a=T(r),c=e[a].groups.length==0?0:a,u=e[c];this.setAllPieces(u.pieces);const h=this.getColumn(t);await this.animator.rotateTo("vertical",h),await this.updateLoop(u.groups,u.actions)}}}async removePieces(t){const e=p(d.SIZE,()=>new Set);{const r=t.map(({rowIndex:a,columnIndex:i})=>{const c=e[i];if(c.has(a))throw new Error("wtf");return c.add(a),this.animator.destroyPiece(this.#t[a][i])});await Promise.all(r)}const n=p(d.SIZE,()=>new Array(d.SIZE)),s=[];e.forEach((r,a)=>{const i=[];for(let c=0;c<d.SIZE;c++)r.has(c)||i.push(this.#t[c][a]);for(let c=0;i.length<d.SIZE;c++){const u=-1-c,h=new S(u,a);this.animator.initializePiece(h),i.unshift(h)}i.forEach((c,u)=>{n[u][a]=c,c.columnIndex=a,c.rowIndex=u,s.push(c)})}),await Promise.all(s.map(r=>this.animator.slideTo(r))),this.setAllPieces(n)}}const x=g("newScore",HTMLDivElement),G=g("chainBonus",HTMLDivElement),_=new Map([["orange",["cyan","brown","white","darkviolet","lightyellow","darkgreen","darkolivegreen","darkred"]],["yellow",["brown","darkviolet","lightcoral","lightsalmon","lightseagreen","darkblue","darkcyan","darkgoldenrod","darkgreen","darkkhaki","darkolivegreen","darkorange","darkred","darksalmon","darkseagreen"]],["violet",["cyan","brown","white","darkviolet","lightgreen","darkblue"]],["blue",["cyan","white","lightcoral","lightgreen","lightgray","lightsalmon","lightseagreen","lightseagreen","lightskyblue","lightslategray","darkorange","darkseagreen","darkturquoise"]],["red",["cyan","white","lightcoral","lightgreen","lightsalmon","darkkhaki","darkseagreen","chartreuse"]],["green",["cyan","white","lightcoral","lightcyan","lightgreen","lightyellow","darkred","darkseagreen","chartreuse"]]]),It=["ʻ","☆","𝛿","∞","•","⭑","†","‡","؟","༗","ၯ","◦","§","_","ɝ","Ԕ","⟳","⚐","🜚","愛","❝","ℵ","を","ᇸ","ڰ","ॾ","ৼ","ན","ᛧ","ß","⧕","↯","➷","⅋","☙","„","⌥","⧷","⁎","╕","₰","…","⑈","۽","ₜ","ಠ","෴","ጃ","ᔱ","ᔰ","Ѧ","ᑥ","𝄢","ƈ","Ɣ","ƕ","Ɋ","ɕ","ɮ","ʆ","Ξ","Ж","Ѭ","Զ","ঔ","ਐ","ઝ","ଈ","ஜ","ధ","ൠ","ඊ","ጯ","ᡀ","‰","₻","↉","↜","↸","⋨","⌤","⎌","⍾","☏","✗","➘","〷","ご","ᇌ","㊤","﹆","🜇","🝤"];let A=1;function R(o){return{duration:Math.abs(o)*2e3/d.SIZE*A}}const j=g("board",SVGElement);function F(){j.querySelectorAll("text.crystal-decoration,text.crystal-decoration-background").forEach(o=>o.textContent="")}class b{static#t=g("piece",HTMLTemplateElement).content.querySelector("g");element;decorationElement;decorationBackgroundElement;bombElement;get bombVisible(){return this.bombElement.style.display==""}set bombVisible(t){this.bombElement.style.display=t?"":"none"}static#o=CSS.px(Math.E);static#r=CSS.px(Math.PI);static#s=new CSSTransformValue([new CSSTranslate(this.#o,this.#r)]);updateFinalPosition(t){this.#n=t.columnIndex,this.#e=t.rowIndex,b.#o.value=t.columnIndex,b.#r.value=t.rowIndex,this.element.attributeStyleMap.set("transform",b.#s)}async slideDirectlyTo(t,e){const n=this.#n,s=this.#e;this.updateFinalPosition(t);const r=this.#n,a=this.#e;if(!e){const u=Math.hypot(a-s,r-n);e=R(u)}const i=this.element;i.parentElement?.appendChild(i),await i.animate([{transform:`translate(${n}px, ${s}px)`},{transform:`translate(${t.columnIndex}px, ${t.rowIndex}px)`}],e).finished}async rotateTo(t,e){const n=e=="horizontal",s=(()=>{const c=n?t.columnIndex-this.#n:t.rowIndex-this.#e,u=C(c+d.SIZE/2,d.SIZE)-d.SIZE/2;return R(Math.abs(u))})(),{position:r,offset:a}=n?D(this.#n,t.columnIndex):D(this.#e,t.rowIndex),i=r.map(c=>n?`translate(${c}px, ${t.rowIndex}px)`:`translate(${t.columnIndex}px, ${c}px)`);this.updateFinalPosition(t),await this.element.animate({transform:i,offset:a},s).finished}#e=NaN;#n=NaN;constructor(t){const e=yt(b.#t.cloneNode(!0),SVGGElement);this.element=e,this.decorationElement=e.querySelector("text.crystal-decoration"),this.decorationBackgroundElement=e.querySelector("text.crystal-decoration-background"),this.bombElement=e.querySelector(".bomb"),e.style.fill=t.color,this.decorationBackgroundElement.style.stroke=t.color,this.bombElement.style.fill=y(_.get(t.color)),this.bombVisible=!1,this.updateFinalPosition(t),j.appendChild(e)}async remove(){let t,e;t=Math.random()*(d.SIZE/2-1),e=Math.random()*(d.SIZE/2-1);{const n=Math.random()*3;n>1&&(t-=d.SIZE/2),n<2&&(e-=d.SIZE/2)}{const n=s=>Math.random()>(s+1)/(d.SIZE+1);n(this.#e)&&(t=d.SIZE-t-1),n(this.#n)&&(e=d.SIZE-e-1)}await this.slideDirectlyTo({rowIndex:t,columnIndex:e},{duration:1e3,easing:"ease-in"}),this.element.remove(),this.element="💀"}}const z=o=>C(o+.5,d.SIZE)-.5,D=(o,t)=>{const e=[o],n=[0];if(Math.abs(o-t)>d.SIZE/2){const s=(r,a)=>{e.push(r,a);const i=Math.abs(o-r),c=Math.abs(a-t),u=i+c,h=i/u;n.push(h,h)};t>o?s(-.5,d.SIZE-.5):s(d.SIZE-.5,-.5)}return e.push(t),n.push(1),{position:e,offset:n}};class St{cancelGroup(t){const e=this.#t.get(t);e.element.getAnimations().forEach(n=>n.cancel()),e.decorationElement.textContent="",e.decorationBackgroundElement.textContent=""}#t=new Map;initializePiece(t){this.#t.set(t,new b(t))}destroyPiece(t){const e=this.#t.get(t);return this.#t.delete(t),e.remove()}jumpTo(t){this.#t.get(t).updateFinalPosition(t)}slideTo(t){return this.#t.get(t).slideDirectlyTo(t)}drawPreview(t,e,n){e.forEach(s=>{const r=this.#t.get(s);let{rowIndex:a,columnIndex:i}=s;t=="vertical"?a=z(a+n):i=z(i+n),r.updateFinalPosition({rowIndex:a,columnIndex:i})})}async rotateTo(t,e){const n=e.map(s=>this.#t.get(s).rotateTo(s,t));await Promise.all(n)}updateBomb(t){const e=this.#t.get(t);e.bombVisible=t.bomb}assignGroupDecorations(t){if(t.length==0)return{addToScore(){return Promise.resolve()},highlightGroups(){F()}};{const e=[...It],n=t.map(r=>{const a=r[0].color,i=y(_.get(a)),c=Math.floor(Math.random()*e.length),u=e[c];return e.splice(c,1),{guiPieces:r.map(f=>{const w=this.#t.get(f);if(w==null)throw new Error("wtf");return w}),decorationColor:i,decorationText:u,backgroundColor:a}}),s=r=>{A=Math.pow(.8,r-1)*.9+.1,console.log({counter:r,durationFactor:A})};return{async addToScore(r){s(r),n.forEach(({guiPieces:a})=>{const u=[{opacity:Math.random()*.2+.05},{opacity:1}],h={direction:y(["alternate","alternate-reverse","normal","reverse"]),duration:(550+Math.random()*150)*A,easing:y(["linear","ease-in","ease-out","ease-in-out"]),iterationStart:Math.random(),iterations:1/0};a.forEach(f=>{f.decorationElement.animate(u,h),f.decorationBackgroundElement.animate(u,h)})}),r<2?G.innerHTML="":G.innerText=`Chain Bonus: ⨉ ${r}`,x.innerHTML="",n.forEach(({guiPieces:a,decorationColor:i,decorationText:c,backgroundColor:u},h)=>{h>0&&x.append(" + ");const f=document.createElement("span");f.innerText=`${c} ${a.length}`,f.style.color=i,f.style.borderColor=f.style.backgroundColor=u,f.classList.add("individualScore"),x.appendChild(f)}),await O(2e3)},highlightGroups(){F(),n.forEach(({guiPieces:r,decorationColor:a,decorationText:i})=>{r.forEach(c=>{const u=c.decorationElement;u.textContent=i,u.style.fill=a,c.decorationBackgroundElement.textContent=i})})}}}}}const Mt=new St,Ct=""+new URL("cursor-2110db60.svg",import.meta.url).href;function kt(o){const t=g("main",SVGSVGElement);function e(s){const r=t.getBoundingClientRect(),a=M(r.top,0,r.bottom,d.SIZE),i=M(r.left,0,r.right,d.SIZE);return{row:a(s.clientY),column:i(s.clientX)}}let n={state:"none"};t.addEventListener("pointerdown",s=>{if(n.state=="none"){s.stopPropagation(),t.setPointerCapture(s.pointerId);const r=e(s);t.style.cursor="move",n={state:"started",startRow:r.row,startColumn:r.column}}}),t.addEventListener("pointermove",s=>{if(n.state=="none"||n.state=="animation")return;s.stopPropagation();const r=e(s);if(n.state=="started"){const a=Math.abs(r.row-n.startRow),i=Math.abs(r.column-n.startColumn);if(Math.max(a,i)<.05)return;if(a>i){const c="vertical",u=Math.floor(n.startColumn),h=n.startRow,f=I=>{const{row:v}=e(I);return v-h},w=o.startVerticalMove(u);n={state:c,fixedIndex:u,startIndex:h,relevantMouseMove:f,actions:w},t.style.cursor="ns-resize"}else if(i>a){const c="horizontal",u=Math.floor(n.startRow),h=n.startColumn,f=I=>{const{column:v}=e(I);return v-h},w=o.startHorizontalMove(u);n={state:c,fixedIndex:u,startIndex:h,relevantMouseMove:f,actions:w},t.style.cursor="ew-resize"}else return}n.actions.preview(n.relevantMouseMove(s))}),t.addEventListener("lostpointercapture",async s=>{switch(n.state){case"started":break;case"horizontal":case"vertical":{t.style.cursor=`url("${Ct}"),none`;const r=n;n={state:"animation"},await r.actions.release(r.relevantMouseMove(s));break}default:throw new Error("wtf")}n={state:"none"},t.style.cursor="grab"})}function Tt(o,t,e){if(!(t>=0&&t<=1))throw new Error("Expected 0 ≤ t ≤ 1");const n=Math.max(0,t-e),s=o(n),r=Math.max(0,t+e),a=o(r),i=a.x-s.x,c=a.y-s.y;return i==0&&c==0?NaN:Math.atan2(i,c)}function At(o,t={}){const e=Math.ceil(t.numberOfSegments??10);if(e<1)throw new Error(`Invalid numberOfSegments: ${e}`);const n=.01/e,s=p(e+1,i=>{const c=i/e,u=o(c),h=Tt(o,c,n);return{t:c,point:u,direction:h}}),r=p(e,i=>[{from:s[i],to:s[i+1]}][0]);console.log({samples:s,segments:r});let a=`M ${r[0].from.point.x}, ${r[0].from.point.y}`;return r.forEach(i=>{a+=` ${i.to.point.x},${i.to.point.y}`}),a}function xt(o,t,e){const r={x:o.x-t.x,y:o.y-t.y},a=Math.hypot(r.x,r.y),i=M(0,a,1,0),c=Math.atan2(r.y,r.x),u=M(0,c,1,c+e*2*Math.PI);function h(f){const w=i(f),I=u(f),v=V(w,I);return{x:t.x+v.x,y:t.y+v.y}}return At(h,{numberOfSegments:e*9.001002})}{let o="☆";setInterval(()=>{document.title=`${o} Classic Chuzzle`,o=o=="☆"?"★":"☆"},1e3)}{const[o,t,e]=g("background",SVGGElement).querySelectorAll("circle");o.animate([{transform:"rotate(720deg)"},{transform:"rotate(0deg)"}],{duration:67973,easing:"ease",iterations:1/0}),t.animate([{transform:"rotate(0deg)"},{transform:"rotate(360deg)"}],{duration:19701,easing:"cubic-bezier(0.42, 0, 0.32, 1.83)",iterations:1/0}),e.animate(E.flatMap((n,s)=>[{fill:n,opacity:0,offset:s/E.length},{fill:n,opacity:.15,offset:(s+.25)/E.length},{fill:n,opacity:.15,offset:(s+.75)/E.length},{fill:n,opacity:0,offset:(s+1)/E.length}]),{duration:4e3*E.length,iterations:1/0})}g("main",SVGSVGElement).animate({backgroundColor:["#404040","#C0C0C0","#404040"]},{duration:97531,direction:"alternate",iterations:1/0});kt(new d(Mt));xt({x:1.5,y:1.5},{x:3.5,y:4.5},3),g("main",SVGSVGElement);
